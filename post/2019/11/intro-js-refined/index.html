<!DOCTYPE html>
<html lang="en-gb">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.71.1" />

<title>Introduction to JavaScript, Refined - loikein&#39;s notes</title>
<meta property="og:title" content="Introduction to JavaScript, Refined - loikein&#39;s notes">


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-143089736-1', 'auto');
  
  ga('send', 'pageview');
}
</script>


  <link rel='icon' href='/favicon.ico' type='image/x-icon'/>


  






<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/styles/atom-one-light.min.css' rel='stylesheet' type='text/css' />


<link rel="stylesheet" href="/css/normalize.css" media="all">
<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">
<link rel="stylesheet" href="/css/clumsy-toc.css" media="all">





  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/logo.png"
         alt="Home">
  </a>
  <ul class="nav-links">
    
    <li><a href="/post/">Notes</a></li>
    
    <li><a href="/writings/">Writings</a></li>
    
    <li><a href="/tags/">Tags</a></li>
    
    <li><a href="https://duckduckgo.com/?q=site%3Anotes.loikein.one">Search</a></li>
    
    <li><a href="https://github.com/loikein/loikein.github.io">Source</a></li>
    
  </ul>
</nav>

      </header>
<main class="content" role="main">
  <article class="article">
    
    <span class="article-duration">7 min read</span>
    
    <h1 class="article-title">Introduction to JavaScript, Refined</h1>
    
    <span class="article-date">2019-11-25</span>
    
    
    
    <span class="tags">
    
    
    Tags:
    
    <a href='/tags/javascript'>JavaScript</a>
    
    <a href='/tags/programming'>Programming</a>
    
    
    
    </span>
    
    <div class="article-content">
      

<div id="TOC">
<ul>
<li><a href="#references">References</a></li>
<li><a href="#basics">Basics</a>
<ul>
<li><a href="#constant-variable">Constant &amp; Variable</a></li>
<li><a href="#string">String</a></li>
<li><a href="#property">Property</a></li>
<li><a href="#method">Method</a></li>
<li><a href="#built-in-objects">Built-in Objects</a></li>
</ul></li>
<li><a href="#conditionals">Conditionals</a>
<ul>
<li><a href="#if-else-if"><code>if</code> &amp; <code>else if</code></a></li>
<li><a href="#truthy-and-falsy">Truthy and Falsy</a></li>
<li><a href="#short-circuit-evaluation">Short-Circuit Evaluation</a></li>
<li><a href="#ternary-operator">Ternary Operator</a></li>
<li><a href="#switch"><code>switch</code></a></li>
</ul></li>
<li><a href="#function">Function</a>
<ul>
<li><a href="#arrow-function">Arrow Function</a></li>
<li><a href="#function-in-function">Function in Function</a></li>
</ul></li>
<li><a href="#scope">Scope</a></li>
<li><a href="#array">Array</a>
<ul>
<li><a href="#array-methods">Array Methods</a></li>
<li><a href="#nested-array">Nested Array</a></li>
<li><a href="#for"><code>for</code></a></li>
<li><a href="#while"><code>while</code></a></li>
<li><a href="#do-...-while"><code>do ... while</code></a></li>
<li><a href="#break"><code>break</code></a></li>
<li><a href="#iteration">Iteration</a></li>
</ul></li>
<li><a href="#object">Object</a>
<ul>
<li><a href="#destructured-assignment">Destructured Assignment</a></li>
<li><a href="#method-1">Method</a></li>
<li><a href="#built-in-method">Built-in Method</a></li>
<li><a href="#nested-object">Nested Object</a></li>
<li><a href="#pass-by-reference">Pass by Reference</a></li>
<li><a href="#loop-in-object">Loop in Object</a></li>
<li><a href="#this"><code>this</code></a></li>
<li><a href="#get"><code>get</code></a></li>
<li><a href="#set"><code>set</code></a></li>
<li><a href="#factory-function">Factory Function</a></li>
</ul></li>
<li><a href="#class">Class</a>
<ul>
<li><a href="#static-method">Static Method</a></li>
<li><a href="#inheritance">Inheritance</a></li>
</ul></li>
<li><a href="#module">Module</a>
<ul>
<li><a href="#create-module">Create Module</a></li>
<li><a href="#use-module">Use Module</a></li>
<li><a href="#named-export-import-es6">Named Export &amp; Import (ES6)</a></li>
</ul></li>
<li><a href="#promise">Promise</a>
<ul>
<li><a href="#settimeout"><code>setTimeout</code></a></li>
<li><a href="#then-catch"><code>then</code> &amp; <code>catch</code></a></li>
<li><a href="#multiple-promises-composition">Multiple Promises (Composition)</a></li>
<li><a href="#promise.all"><code>Promise.all</code></a></li>
</ul></li>
<li><a href="#async-await">Async Await</a>
<ul>
<li><a href="#references-1">References</a></li>
<li><a href="#async"><code>async</code></a></li>
<li><a href="#await"><code>await</code></a></li>
<li><a href="#late-await">late await</a></li>
<li><a href="#await-promise.all"><code>await Promise.all</code></a></li>
<li><a href="#try-...-catch"><code>try ... catch</code></a></li>
</ul></li>
<li><a href="#request">Request</a>
<ul>
<li><a href="#xhr-get">XHR GET</a></li>
<li><a href="#xhr-post">XHR POST</a></li>
<li><a href="#fetch-get">Fetch GET</a></li>
<li><a href="#fecth-post">Fecth POST</a></li>
<li><a href="#async-get">Async GET</a></li>
<li><a href="#async-post">Async POST</a></li>
</ul></li>
</ul>
</div>

<div id="references" class="section level2">
<h2>References</h2>
<ul>
<li><a href="https://javascript.info/">The Modern JavaScript Tutorial</a></li>
<li><a href="https://segmentfault.com/a/1190000012673854">19 个 JavaScript 有用的简写技术 - SangSir - SegmentFault 思否</a><br />
</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators">表达式和运算符 - JavaScript | MDN</a></li>
</ul>
</div>
<div id="basics" class="section level2">
<h2>Basics</h2>
<pre class="js"><code>&quot;use strict&quot;;

console.log( &#39;hello, world&#39;);
alert( &#39;hello, world&#39; );

// comment

/*
multi-line comment
*/

console.log( 1 &gt;= 2 );               // false
console.log( 3 &lt;= 4 );               // true
console.log( &#39;orange&#39; === &#39;apple&#39; ); // false
console.log( &#39;orange&#39; !== &#39;apple&#39;);  // true</code></pre>
<div id="constant-variable" class="section level3">
<h3>Constant &amp; Variable</h3>
<ul>
<li>Variable names are case-sensitive</li>
</ul>
<pre class="js"><code>// constant

const someConst = &#39;do not change&#39;;
someConst = &#39;hey&#39;;                   // Error!</code></pre>
<pre class="js"><code>// variable

let someNumber = 7;
let someString = &#39;what&#39;;
someNumber = 9;

let someBoolean = true;
someBoolean = false;
console.log( someBoolean );          // false</code></pre>
<pre class="js"><code>// change type

let changeType = &#39;hey!&#39;;
console.log( typeof changeType);     // string

changeType = 1;
console.log( typeof changeType);     // number</code></pre>
</div>
<div id="string" class="section level3">
<h3>String</h3>
<pre class="js"><code>console.log( &#39;mind &#39; + &#39;the&#39; + &#39; &#39; + &#39;gap&#39; );           // mind the gap
console.log( &quot;mind &quot; + &quot;the&quot; + &quot; &quot; + &quot;gap&quot; );           // mind the gap

let favoriteAnimal = &#39;cat&#39;;

console.log( &#39;My favorite animal: &#39; + favoriteAnimal ); // My favorite animal: cat
console.log( `My favorite animal: ${favoriteAnimal}` ); // My favorite animal: cat</code></pre>
</div>
<div id="property" class="section level3">
<h3>Property</h3>
<pre class="js"><code>alert( &#39;Count me&#39;.length );                             // 8</code></pre>
</div>
<div id="method" class="section level3">
<h3>Method</h3>
<pre class="js"><code>console.log( &#39;hello&#39;.toUpperCase() );                   // HELLO

console.log( &#39;hello&#39;.startsWith(&#39;a&#39;) );                 // false

console.log(&#39;    Remove whitespace   &#39;.trim() );        // Remove whitespace</code></pre>
</div>
<div id="built-in-objects" class="section level3">
<h3>Built-in Objects</h3>
<pre class="js"><code>console.log( Math.random() );        // random number 0~1
console.log( Math.random() * 100 );

console.log( Math.floor( 43.8 ));    // 43
console.log( Math.ceil( 43.8 ));     // 44</code></pre>
<pre class="js"><code>console.log(Number.isInteger( 2019 )); // true</code></pre>
</div>
</div>
<div id="conditionals" class="section level2">
<h2>Conditionals</h2>
<div id="if-else-if" class="section level3">
<h3><code>if</code> &amp; <code>else if</code></h3>
<pre class="js"><code>let sale = false;
let holiday = true;

if( sale &amp;&amp; holiday ){
  console.log(&#39;Buy!&#39;);
} else {
  console.log( &#39;Wait for a sale.&#39; );
}                                    // Wait for a sale.</code></pre>
<pre class="js"><code>let season = &#39;summer&#39;;

if (season === &#39;spring&#39;) {
  console.log( &#39;It\&#39;s spring&#39; );
} else if (season === &#39;summer&#39;) {
  console.log( &#39;It\&#39;s summer&#39; );
} else if (season === &#39;fall&#39;) {
  console.log( &#39;It\&#39;s fall&#39; );
} else if (season === &#39;winter&#39;) {
  console.log( &#39;It\&#39;s winter&#39; );
} else {
  console.log( &#39;Invalid season.&#39; );
}                                    // It&#39;s summer</code></pre>
</div>
<div id="truthy-and-falsy" class="section level3">
<h3>Truthy and Falsy</h3>
<pre class="js"><code>let falsyNum = 0;
let falsyString = &#39;&#39;;

if (falsyNum || falsyString) {
  console.log( true );
} else {
  console.log( false );
}                                    // false</code></pre>
</div>
<div id="short-circuit-evaluation" class="section level3">
<h3>Short-Circuit Evaluation</h3>
<pre class="js"><code>let userName = &#39;&#39;;
let yourName = userName || &#39;Stranger&#39;;
console.log( yourName );             // Stranger

userName = &#39;rw&#39;;
let myName = userName || &#39;Stranger&#39;;
console.log( myName );               // rw</code></pre>
</div>
<div id="ternary-operator" class="section level3">
<h3>Ternary Operator</h3>
<pre class="js"><code>let answer = 99;
answer === 100 ?
  console.log(&#39;Correct&#39;) :
  console.log(&#39;Incorrect&#39;);          // Incorrect</code></pre>
</div>
<div id="switch" class="section level3">
<h3><code>switch</code></h3>
<pre class="js"><code>let season = &#39;summer&#39;;

switch( season ){
  case &#39;spring&#39;:
    console.log(&#39;It\&#39;s spring&#39;);
    break;
  case &#39;summer&#39;:
    console.log( &#39;It\&#39;s summer&#39; );
    break;
  case &#39;fall&#39;:
    console.log( &#39;It\&#39;s fall&#39; );
    break;
  case &#39;winter&#39;:
    console.log( &#39;It\&#39;s winter&#39; );
    break;
  default:
    console.log( &#39;Invalid season.&#39; );
    break;
}                                    // It&#39;s summer</code></pre>
</div>
</div>
<div id="function" class="section level2">
<h2>Function</h2>
<pre class="js"><code>function hello(name = &#39;world&#39; ){
  console.log( &#39;hello &#39; + name );
}
hello();                             // hello world
hello( &#39;rw&#39; );                       // hello rw</code></pre>
<pre class="js"><code>const hello = function( name = &#39;world&#39; ){
  return( &#39;hello &#39; + name );
}

console.log( hello());               // hello world
console.log( hello( &#39;rw&#39; ));         // hello rw</code></pre>
<pre class="js"><code>function someFunctionWithAnnoyinglyLongName(){
  console.log( &#39;busy!&#39; );
}

const busy = someFunctionWithAnnoyinglyLongName;
busy();                              // busy!
console.log( busy.name );            // someFunctionWithAnnoyinglyLongName</code></pre>
<pre class="js"><code>function makeShoppingList( item1 = &#39;milk&#39;, item2 = &#39;bread&#39;, item3 = &#39;eggs&#39; ){
  console.log( `Remember to buy ${item1}` );
  console.log( `Remember to buy ${item2}` );
  console.log( `Remember to buy ${item3}` );
}</code></pre>
<div id="arrow-function" class="section level3">
<h3>Arrow Function</h3>
<pre class="js"><code>const hello = ( name = &#39;world&#39; ) =&gt; {
  return( &#39;hello &#39; + name );
}

console.log( hello());               // hello world
console.log( hello( &#39;rw&#39; ));         // hello rw</code></pre>
<pre class="js"><code>const hello = name =&gt; &#39;hello &#39; + name;

console.log( hello( &#39;world&#39; ));      // hello world
console.log( hello( &#39;rw&#39; ));         // hello rw</code></pre>
</div>
<div id="function-in-function" class="section level3">
<h3>Function in Function</h3>
<pre class="js"><code>let price = 10;

function count( row, col ){
  return row * col;
}

function cost ( row, col ){
  return count( row, col ) * price;
}

console.log( cost( 5,4 ));           // 200</code></pre>
<pre class="js"><code>function addFive( num ){
  return num + 5;
}

function checkTwice( func, arg ){
  let first = func( arg );
  let second = func( arg );
  if( first === second ){
    return &#39;Correct&#39;;
  } else {
    return &#39;Wrong&#39;;
  }
}

console.log( checkTwice( addFive, 2 ));          // Correct</code></pre>
</div>
</div>
<div id="scope" class="section level2">
<h2>Scope</h2>
<pre class="js"><code>// Scope Pollution!

let someNumber = 1;

function change(){
  someNumber = 2;
  console.log( someNumber );
}

change();                            // 2
console.log( someNumber );           // 2</code></pre>
<pre class="js"><code>// Good Scoping

let someNumber = 1;

function change(){
  let someNumber = 2;
  console.log( someNumber );
}

change();                            // 2
console.log( someNumber );           // 1</code></pre>
</div>
<div id="array" class="section level2">
<h2>Array</h2>
<pre class="js"><code>let someArray = [&#39;hello&#39;, &#39;there&#39;];
let first = someArray[0];
console.log( first );                // hello
console.log( first[0] );             // h

someArray[0] = &#39;hallo&#39;;
console.log( someArray );            // [ &#39;hallo&#39;, &#39;there&#39; ]

console.log( someArray.length );     // 2</code></pre>
<pre class="js"><code>let varArray = [&#39;hello&#39;, &#39;there&#39;];
const constArray = [&#39;stay&#39;, &#39;hungry&#39;];

varArray = &#39;hi&#39;;
console.log( varArray );             // hi

constArray = &#39;foolish&#39;;              // Error!

constArray[1] = &#39;foolish&#39;;
console.log( constArray );           // [ &#39;stay&#39;, &#39;foolish&#39; ]</code></pre>
<div id="array-methods" class="section level3">
<h3>Array Methods</h3>
<pre class="js"><code>const constArray = [&#39;stay&#39;, &#39;hungry&#39;];

constArray.push( &#39;stay&#39;, &#39;foolish&#39; );
console.log( constArray );           // [ &#39;stay&#39;, &#39;hungry&#39;, &#39;stay&#39;, &#39;foolish&#39; ]

constArray.pop();
console.log( constArray );           // [ &#39;stay&#39;, &#39;hungry&#39;, &#39;stay&#39;]

constArray.shift();
console.log( constArray );           // [ &#39;hungry&#39;, &#39;stay&#39;]

constArray.unshift(&quot;I&#39;m&quot;);
console.log( constArray );           // [ &#39;I\&#39;m&#39;, &#39;hungry&#39;, &#39;stay&#39; ]

console.log( constArray.slice(0, 2) );           // [ &#39;I\&#39;m&#39;, &#39;hungry&#39; ]

constArray = [&#39;stay&#39;, &#39;stay&#39;];
console.log( constArray.indexOf( &#39;stay&#39; ));      // 0</code></pre>
</div>
<div id="nested-array" class="section level3">
<h3>Nested Array</h3>
<pre class="js"><code>let moreArray = [ [1,2], [3,4], [5,6] ];

let six = moreArray[2][1];
console.log( six )                   // 6</code></pre>
</div>
<div id="for" class="section level3">
<h3><code>for</code></h3>
<pre class="js"><code>const someArray = [ &#39;stay&#39;, &#39;hungry&#39;, &#39;stay&#39;, &#39;foolish&#39; ];

console.log( &#39;I want to&#39; );
for( let i = 0; i &lt; someArray.length; i++ ){
  console.log( someArray[i] );
}                                    // I want to stay hungry stay foolish</code></pre>
<pre class="js"><code>const myFollowers = [ &#39;Lia&#39;, &#39;Susa&#39;, &#39;Cath&#39;, &#39;Dean&#39; ];
const yourFollowers = [ &#39;Susa&#39;, &#39;Kate&#39;, &#39;Lia&#39; ];
let mutualFollowers = [];

for( let i = 0; i &lt; myFollowers.length; i++ ){
  for( let j = 0; j &lt; yourFollowers.length; j++){
    if( myFollowers[i] === yourFollowers[j] ){
      mutualFollowers.push( myFollowers[i] );
    }
  }
}

console.log( mutualFollowers );      // [ &#39;Lia&#39;, &#39;Susa&#39; ]</code></pre>
</div>
<div id="while" class="section level3">
<h3><code>while</code></h3>
<pre class="js"><code>const someArray = [ &#39;stay&#39;, &#39;hungry&#39;, &#39;stay&#39;, &#39;foolish&#39; ];

console.log( &#39;I want to&#39; );

let i = 0;
while( i &lt; someArray.length ){
  console.log( someArray[i] );
  i++;
}                                    // I want to stay hungry stay foolish</code></pre>
</div>
<div id="do-...-while" class="section level3">
<h3><code>do ... while</code></h3>
<pre class="js"><code>const someArray = [ &#39;stay&#39;, &#39;hungry&#39;, &#39;stay&#39;, &#39;foolish&#39; ];

console.log( &#39;I want to&#39; );

let i = 0;
do {
  console.log( someArray[i] );
  i++;
} while( i &lt; someArray.length );     // I want to stay hungry stay foolish</code></pre>
</div>
<div id="break" class="section level3">
<h3><code>break</code></h3>
<pre class="js"><code>const someArray = [ &#39;stay&#39;, &#39;hungry&#39;, &#39;stay&#39;, &#39;foolish&#39; ];

console.log( &#39;I want to&#39; );

let i = 0;
do {
  console.log( someArray[i] );
  i++;
  if( someArray[i] === &#39;foolish&#39; ){
    break;
  }
} while( i &lt; someArray.length );     // I want to stay hungry stay</code></pre>
</div>
<div id="iteration" class="section level3">
<h3>Iteration</h3>
<pre class="js"><code>const myFollowers = [ &#39;Lia&#39;, &#39;Susa&#39;, &#39;Cath&#39;, &#39;Dean&#39; ];

myFollowers.forEach(
  follower =&gt; console.log( follower + &#39; is following me&#39;)
);

/*
Lia is following me
Susa is following me
Cath is following me
Dean is following me
*/

/* or
myFollowers.forEach(
  function( follower ){
    console.log( follower + &#39; is following me&#39;);
  }
); */</code></pre>
<pre class="js"><code>const myFollowers = [ &#39;Lia&#39;, &#39;Susa&#39;, &#39;Cath&#39;, &#39;Dean&#39; ];

console.log(
  myFollowers.map( follower =&gt; follower + &#39; is following me&#39; )
);

/*
[ &#39;Lia is following me&#39;,
  &#39;Susa is following me&#39;,
  &#39;Cath is following me&#39;,
  &#39;Dean is following me&#39; ]
*/</code></pre>
<pre class="js"><code>const myFollowers = [ &#39;Lia&#39;, &#39;Susa&#39;, &#39;Cath&#39;, &#39;Dean&#39; ];

console.log(
  myFollowers.filter( follower =&gt; follower.length &gt; 3 )
);

/*
[ &#39;Susa&#39;, &#39;Cath&#39;, &#39;Dean&#39; ]
*/</code></pre>
<pre class="js"><code>const myFollowers = [ &#39;Lia&#39;, &#39;Susa&#39;, &#39;Cath&#39;, &#39;Dean&#39; ];

console.log(
  myFollowers.findIndex( follower =&gt; follower.length &gt; 3 )
);

/*
1
*/</code></pre>
<pre class="js"><code>const myFollowers = [ &#39;Lia&#39;, &#39;Susa&#39;, &#39;Cath&#39;, &#39;Dean&#39; ];

const myFollowersList = myFollowers.reduce(
  ( list, nextName ) =&gt; list + &#39; &#39; + nextName
, &#39;My followers are&#39;);

console.log( myFollowersList );

/*
My followers are Lia Susa Cath Dean
*/</code></pre>
</div>
</div>
<div id="object" class="section level2">
<h2>Object</h2>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
};

console.log( myComputer.color );     // black
console.log( myComputer[&#39;color&#39;] );  // black
console.log( myComputer[ color ] );  // Error!

myComputer.numStickers = 3;

myComputer = { brand: &#39;ThinkPad&#39;, };

// delete myComputer.brand;</code></pre>
<div id="destructured-assignment" class="section level3">
<h3>Destructured Assignment</h3>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
};

const { brand } = myComputer;
console.log( brand );                // Apple</code></pre>
</div>
<div id="method-1" class="section level3">
<h3>Method</h3>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
  startUp(){ console.log( &#39;Duang!&#39; )},
  // or: startUp: () =&gt; console.log( &#39;Duang!&#39; ),
};

myComputer.startUp();                // Duang!</code></pre>
</div>
<div id="built-in-method" class="section level3">
<h3>Built-in Method</h3>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
  startUp(){ console.log( &#39;Duang!&#39; )},
};

console.log( Object.keys( myComputer ));
/*
[ &#39;brand&#39;, &#39;color&#39;, &#39;startUp&#39; ]
*/

console.log( Object.entries( myComputer ));
/*
[ [ &#39;brand&#39;, &#39;Apple&#39; ],
  [ &#39;color&#39;, &#39;black&#39; ],
  [ &#39;startUp&#39;, [Function: startUp] ] ]
*/

let myNewComputer = Object.assign({ year: 2018 }, myComputer );
console.log( myNewComputer );
/*
{ year: 2018,
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
  startUp: [Function: startUp] }
*/</code></pre>
</div>
<div id="nested-object" class="section level3">
<h3>Nested Object</h3>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
  startUp(){ console.log( &#39;Duang!&#39; )},
  apps: {
    finder: { user: &#39;admin&#39;},
    timeMachine: { user: &#39;all&#39; },
  },
};

console.log( myComputer.apps.finder.user );      // admin</code></pre>
</div>
<div id="pass-by-reference" class="section level3">
<h3>Pass by Reference</h3>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
};

function repaintFail( object ){
  object = { color: &#39;black&#39;, };
}

repaintFail( myComputer );
console.log( myComputer );

/*
{ brand: &#39;Apple&#39;,
  color: &#39;black&#39; }
*/</code></pre>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
};

function repaintSuccess( object ){
  object.color = &#39;silver&#39;;
}

repaintSuccess( myComputer );
console.log( myComputer );

/*
{ brand: &#39;Apple&#39;,
  color: &#39;silver&#39; }
*/</code></pre>
</div>
<div id="loop-in-object" class="section level3">
<h3>Loop in Object</h3>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
  apps: {
    finder: { user: &#39;admin&#39;},
    timeMachine: { user: &#39;all&#39; },
  },
};

for( let app in myComputer.apps ){
  console.log( app + &#39; is used by &#39; + myComputer.apps[app].user );
}

/*
finder is used by admin
timeMachine is used by all
*/</code></pre>
</div>
<div id="this" class="section level3">
<h3><code>this</code></h3>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
  claimFail: () =&gt; console.log( &quot;I&#39;m produced by &quot; + this.brand ),
};

myComputer.claimFail();              // I&#39;m produced by undefined</code></pre>
<pre class="js"><code>const myComputer = {
  brand: &#39;Apple&#39;,
  color: &#39;black&#39;,
  claimSuccess(){ console.log( &quot;I&#39;m produced by &quot; + this.brand )},
};

myComputer.claimSuccess();           // I&#39;m produced by Apple</code></pre>
</div>
<div id="get" class="section level3">
<h3><code>get</code></h3>
<pre class="js"><code>const myComputer = {
  _brand: &#39;Apple&#39;,
  _color: &#39;black&#39;,
  _battery: 50,
  get brand(){ return( &quot;I&#39;m produced by &quot; + this._brand )},
  get battery(){ return( `${this._battery}% charged`)},
};

console.log( myComputer.brand);      // I&#39;m produced by Apple
console.log( myComputer.battery);    // 50% charged</code></pre>
</div>
<div id="set" class="section level3">
<h3><code>set</code></h3>
<pre class="js"><code>const myComputer = {
  _brand: &#39;Apple&#39;,
  _color: &#39;black&#39;,
  _battery: 50,
  get battery(){ return( `${this._battery}% charged` )},
  set battery( num ){ 
    if( typeof num === &#39;number&#39; &amp;&amp; num &gt;= 0 ){
      this._battery = num;
    } else {
      console.log( &#39;Invalid battery status&#39; );
    }
  }
};

myComputer.battery = 100;
console.log( myComputer.battery );   // 100% charged

myComputer.battery = &#39;charged&#39;;      // Invalid battery status</code></pre>
</div>
<div id="factory-function" class="section level3">
<h3>Factory Function</h3>
<pre class="js"><code>const computer = ( brand, color ) =&gt; {
  return{
    brand,
    color,
    startUp(){ console.log( &#39;Duang!&#39; )}
  }
};

const myComputer = computer( &#39;Apple&#39;, &#39;black&#39; );
myComputer.startUp();                // Duang!</code></pre>
</div>
</div>
<div id="class" class="section level2">
<h2>Class</h2>
<pre class="js"><code>class Computer{
  constructor( brand, color ){
    this._brand = brand;
    this._color = color;
    this._battery = 50;
  }

  get brand(){ return this._brand }

  get color(){ return this._color }

  charge( batteryChange ){
    if( typeof batteryChange === &#39;number&#39; &amp;&amp; batteryChange &gt;= 0 ){
      this._battery += batteryChange;
    } else {
      console.log( &#39;Invalid battery status&#39; );
    }
  }
}

const myComputer = new Computer( &#39;Apple&#39;, &#39;black&#39;);
myComputer.charge( 50 );
console.log( myComputer._battery );              // 100</code></pre>
<div id="static-method" class="section level3">
<h3>Static Method</h3>
<pre class="js"><code>class Computer{
  constructor( brand, color ){
    this._brand = brand;
    this._color = color;
    this._battery = 50;
  }

  get brand(){ return this._brand }

  get color(){ return this._color }

  charge( batteryChange ){
    if( typeof batteryChange === &#39;number&#39; &amp;&amp; batteryChange &gt;= 0 ){
      this._battery += batteryChange;
    } else {
      console.log( &#39;Invalid battery status&#39; );
    }
  }
  
  static generateSerial(){ return Math.floor( Math.random()*10000 )}
}

console.log( Computer.generateSerial );          // 2052 (changes every time)

const myComputer = new Computer( &#39;Apple&#39;, &#39;black&#39;);
console.log( myComputer.generateSerial );        // undefined</code></pre>
</div>
<div id="inheritance" class="section level3">
<h3>Inheritance</h3>
<pre class="js"><code>class Appliance{
  constructor( brand, color ){
    this._brand = brand;
    this._color = color;
    this._battery = 50;
  }
  get brand(){ return this._brand }
  get color(){ return this._color }
  charge( batteryChange ){
    if( typeof batteryChange === &#39;number&#39; &amp;&amp; batteryChange &gt;= 0 ){
      this._battery += batteryChange;
    } else {
      console.log( &#39;Invalid battery status&#39; );
    }
  }
}

class Computer extends Appliance{
  constructor( brand, color, apps ){
    super( brand, color );
    this._apps = apps;
  }
  installNewApp( appName ){
    this._apps.push( appName );
  }
}

const myComputer = new Computer( &#39;Apple&#39;, &#39;black&#39;, [&#39;finder&#39;, &#39;timeMachine&#39;]);
myComputer.installNewApp( &#39;RStudio&#39; );
console.log( myComputer );

/*
Computer {
  _brand: &#39;Apple&#39;,
  _color: &#39;black&#39;,
  _battery: 50,
  _apps: [ &#39;finder&#39;, &#39;timeMachine&#39;, &#39;RStudio&#39; ] }
*/</code></pre>
</div>
</div>
<div id="module" class="section level2">
<h2>Module</h2>
<div id="create-module" class="section level3">
<h3>Create Module</h3>
<ol style="list-style-type: decimal">
<li>Create an object</li>
<li>Add some properties</li>
<li>Export the object as a module</li>
</ol>
<pre class="js"><code>const Computer = {
  brand: &#39;Apple&#39;,
  startUp(){ console.log( &#39;Duang!&#39; )},
};

module.exports = Computer;

/*
or in ES6:
export default Computer;
*/</code></pre>
</div>
<div id="use-module" class="section level3">
<h3>Use Module</h3>
<ol style="list-style-type: decimal">
<li>Import a module</li>
<li>Use properties of the module</li>
</ol>
<pre class="js"><code>const Computer = require( &#39;./computer.js&#39; );

/*
or in ES6:
import Computer from &#39;./computer&#39;;
*/

console.log( Computer.brand );                   // Apple
Computer.startUp();                              // Duang!</code></pre>
</div>
<div id="named-export-import-es6" class="section level3">
<h3>Named Export &amp; Import (ES6)</h3>
<pre class="js"><code>const brand = &#39;Apple&#39;;
function startUp(){ console.log( &#39;Duang!&#39; )};

export{ brand as computerBrand, startUp };

/*
or:
export const computerBrand = &#39;Apple&#39;;
export function startUp(){ console.log( &#39;Duang!&#39; )};
*/</code></pre>
<pre class="js"><code>import{ computerBrand, startUp as computerStartUp } from &#39;./computer&#39;;

console.log( computerBrand );                    // Apple
computerStartUp();                               // Duang!

/*
or:
import * as Computer from &#39;./computer&#39;;

console.log( Computer.computerBrand );           // Apple
Computer.startUp();                              // Duang!
*/</code></pre>
</div>
</div>
<div id="promise" class="section level2">
<h2>Promise</h2>
<pre class="js"><code>let someNumber = 7;

function executorFunction( resolve, reject ){
  if( someNumber &gt; 5 ) {
      resolve( &#39;Greater than 5&#39; );
  }else{
      reject( &#39;Smaller than 5&#39; );
  }
}

const checkNumber = () =&gt; new Promise(executorFunction);

/*
or:
const checkNumber = () =&gt;{
  return new Promise(
    function( resolve, reject ){
      if( someNumber &gt; 5 ){ resolve( &#39;Greater than 5&#39; ); }
      else{ reject( &#39;Smaller than 5&#39; ); }
    }
)};
*/

console.log( checkNumber());                     // Greater than 5</code></pre>
<div id="settimeout" class="section level3">
<h3><code>setTimeout</code></h3>
<pre class="js"><code>console.log( &#39;The first line&#39; );

function startUp(){
  console.log( &#39;Duang!&#39; );
}

setTimeout( startUp, 1000 );

console.log( &#39;The last line&#39; );

/*
The first line
The last line
Duang!
*/</code></pre>
</div>
<div id="then-catch" class="section level3">
<h3><code>then</code> &amp; <code>catch</code></h3>
<pre class="js"><code>const checkNumber = ( num ) =&gt; {
  return new Promise(
    function( resolve, reject ){
      if( num &gt; 5 ){ resolve( &#39;Greater than 5&#39; ); }
      else{ reject( &#39;Smaller than 5&#39; ); }
    }
)};

function onFulfilled( resolvedValue ){
  console.log( resolvedValue );
}

function onRejected( rejectionReason ){
  console.log( rejectionReason );
}

checkNumber( 7 ).then( onFulfilled, onRejected );
// Greater than 5

/*
don&#39;t do:

checkNumber( 7 ).then( onFulfilled )
                .then( onRejected );

// Greater than 5
// defined

do:

checkNumber( 7 ).then( onFulfilled )
                .catch( onRejected );

// Greater than 5
*/</code></pre>
</div>
<div id="multiple-promises-composition" class="section level3">
<h3>Multiple Promises (Composition)</h3>
<pre class="js"><code>const checkNumber = ( num ) =&gt; {
  return new Promise(
    function( resolve, reject ){
      if( num &gt; 5 ){ 
        console.log( &#39;Greater than 5&#39; );
        resolve( num );
      }
      else{ reject( &#39;Smaller than 5&#39; ); }
    }
)};

const checkNumberTwice = ( num ) =&gt; {
  return new Promise(
    function( resolve, reject ){
      if( num &gt; 10 ){
        console.log( &#39;Greater than 10&#39; );
        resolve( num );
      }
      else{ reject( &#39;Smaller than 10&#39; ); }
    }
)};

checkNumber( 7 )
.then(( resolvedNumber ) =&gt;
    { return checkNumberTwice( resolvedNumber ); })
.then(( successMessage ) =&gt;
    { console.log( successMessage ); })
.catch(( errorMessage ) =&gt;
    { console.log( errorMessage ); });

/*
Greater than 5
Smaller than 10
*/</code></pre>
</div>
<div id="promise.all" class="section level3">
<h3><code>Promise.all</code></h3>
<pre class="js"><code>const checkNumber = ( num ) =&gt; {
  return new Promise(
    function( resolve, reject ){
      if( num &gt; 5 ){ 
        resolve( &#39;Greater than 5&#39; );
      }
      else{ reject( &#39;Smaller than 5&#39; ); }
    }
)};

const checkNumberTwice = ( num ) =&gt; {
  return new Promise(
    function( resolve, reject ){
      if( num &gt; 10 ){
        resolve( &#39;Greater than 10&#39; );
      }
      else{ reject( &#39;Smaller than 10&#39; ); }
    }
)};

Promise.all([ checkNumber( 7 ),
              checkNumberTwice( 7 )])
.then(( successMessage ) =&gt;
  { console.log( successMessage ); })
.catch(( errorMessage ) =&gt;
  { console.log( errorMessage ); });

/*
Smaller than 10

// failing fast
*/</code></pre>
</div>
</div>
<div id="async-await" class="section level2">
<h2>Async Await</h2>
<div id="references-1" class="section level3">
<h3>References</h3>
<ul>
<li><a href="https://segmentfault.com/a/1190000007535316">理解 JavaScript 的 async/await - 边城客栈 - SegmentFault 思否</a><br />
</li>
<li><a href="http://www.ruanyifeng.com/blog/2015/05/async.html">async 函数的含义和用法 - 阮一峰的网络日志</a></li>
</ul>
</div>
<div id="async" class="section level3">
<h3><code>async</code></h3>
<pre class="js"><code>async function someFunc(){
  // some code
}

//or

const someFunc = async () =&gt; {
  // some code
}</code></pre>
<pre class="js"><code>async function checkNumber( num ){
  if( num &gt; 5 ){
    return( &#39;Greater than 5&#39; );
  }else{
    return( &#39;Smaller than 5&#39; );
  }
}

function onFulfilled( resolvedValue ){
  console.log( resolvedValue );
}

checkNumber( 7 )
.then( onFulfilled );      // Greater than 5

/*
or:
async function checkNumber( num ){
  if( num &gt; 5 ){
    console.log( &#39;Greater than 5&#39; );
  }else{
    console.log( &#39;Smaller than 5&#39; );
  }
}
checkNumber( 7 );
*/</code></pre>
</div>
<div id="await" class="section level3">
<h3><code>await</code></h3>
<pre class="js"><code>const chooseNumber = () =&gt; {
  return new Promise(
    function( resolve, reject ){
      setTimeout( () =&gt; {
        let number = Math.floor( Math.random() * 10 );
        console.log( number ); 
        resolve( number );
      }, 1000 )
    }
  )
};

async function checkNumber(){
  let num = await chooseNumber();
  if( num &gt; 5 ){
    console.log( &#39;Greater than 5&#39; );
    return( num );
  }else{
    console.log( &#39;Smaller than 5&#39; );
    return( num );
  }
}

async function checkNumberTwice(){
  let num = await checkNumber();
  if( num &gt; 10 ){
    console.log( &#39;Greater than 10&#39; );
  }else{
    console.log( &#39;Smaller than 10&#39; );
  }
}

checkNumberTwice();

/*
3
Smaller than 5
Smaller than 10
*/</code></pre>
</div>
<div id="late-await" class="section level3">
<h3>late await</h3>
<pre class="js"><code>const chooseNumber = () =&gt; {
  return new Promise(
    function( resolve, reject ){
      setTimeout( () =&gt; {
        let number = Math.floor( Math.random() * 10 );
//      console.log( number ); 
        resolve( number );
      }, 1000 )
    }
  )
};

async function printNumber(){
  let num = chooseNumber();
  console.log( await num );
}

printNumber();               // 6</code></pre>
</div>
<div id="await-promise.all" class="section level3">
<h3><code>await Promise.all</code></h3>
<pre class="js"><code>const chooseNumber = () =&gt; {
  return new Promise(
    function( resolve, reject ){
      setTimeout( () =&gt; {
        let number = Math.floor( Math.random() * 10 );
        console.log( number ); 
        resolve( number );
      }, 1000 )
    }
  )
};

async function checkNumber(){
  let num = await chooseNumber();
  if( num &gt; 5 ){
    console.log( &#39;Greater than 5&#39; );
    return( num );
  }else{
    console.log( &#39;Smaller than 5&#39; );
    return( num );
  }
}

async function checkNumberTwice(){
  let num = await Promise.all([ chooseNumber(), checkNumber() ]);
  if( num &gt; 10 ){
    console.log( &#39;Greater than 10&#39; );
  }else{
    console.log( &#39;Smaller than 10&#39; );
  }
}

checkNumberTwice();

/*
3
Smaller than 5
Smaller than 10
*/</code></pre>
</div>
<div id="try-...-catch" class="section level3">
<h3><code>try ... catch</code></h3>
<pre class="js"><code>async function checkNumber( num ){
  try{
    if( num &gt; 5 ){
      console.log( &#39;Greater than 5&#39; );
    }else{
      console.log( &#39;Smaller than 5&#39; );
    }
  } catch( error ) {
      console.log( error );
  }
}

checkNumber( 7 );            // Greater than 5</code></pre>
</div>
</div>
<div id="request" class="section level2">
<h2>Request</h2>
<p>AJAX (Asynchronous JavaScript and XML)</p>
<div id="xhr-get" class="section level3">
<h3>XHR GET</h3>
<pre class="js"><code>const xhr = new XMLHttpRequest();
const url = &#39;http://api-to-call.com/endpoint&#39;;

xhr.responseType = &#39;json&#39;;

xhr.onreadystatechange = () =&gt; {
  if( xhr.readyState === XMLHttpRequest.DONE ){
    // response
    // return xhr.response;
  }
};

xhr.open( &#39;GET&#39;, url );
xhr.send();</code></pre>
</div>
<div id="xhr-post" class="section level3">
<h3>XHR POST</h3>
<pre class="js"><code>const xhr = new XMLHttpRequest();
const url = &#39;http://api-to-call.com/endpoint&#39;;
const data = JSON.stringify({ id:&#39;200&#39; });

xhr.responseType = &#39;json&#39;;

xhr.onreadystatechange = () =&gt; {
  if( xhr.readyState === XMLHttpRequest.DONE ){
    // response
  }
};

xhr.open( &#39;POST&#39;, url );
xhr.send( data );</code></pre>
</div>
<div id="fetch-get" class="section level3">
<h3>Fetch GET</h3>
<pre class="js"><code>fetch( &#39;http://api-to-call.com/endpoint&#39; )
.then( response =&gt; {
  if( response.ok ){
    return response.json();
  }
  throw new Error( &#39;Request failed!&#39; );
}, networkError =&gt; console.log( networkError.message ))
.then( jsonResponse =&gt; {
  // response
  // return jsonResponse;
});</code></pre>
</div>
<div id="fecth-post" class="section level3">
<h3>Fecth POST</h3>
<pre class="js"><code>fetch( &#39;http://api-to-call.com/endpoint&#39;,
       { method: &#39;POST&#39;, body: JSON.stringify({id:&#39;200&#39;}) })
.then( response =&gt; {
  if( response.ok ){
    return response.json();
  }
  throw new Error( &#39;Request failed!&#39; );
}, networkError =&gt; console.log( networkError.message ))
.then( jsonResponse =&gt; {
  // response
  // return jsonResponse;
});</code></pre>
</div>
<div id="async-get" class="section level3">
<h3>Async GET</h3>
<pre class="js"><code>async function getData(){
  try{
    const response = await fetch( &#39;http://api-to-call.com/endpoint&#39; );
    if( response.ok ){
      const jsonResponse = await response.json;
      // response
      // return jsonResponse;
    }
    throw new Error( &#39;Request failed!&#39; );
  } catch( error ){
    console.log( error );
    // or: redirection
  }
}</code></pre>
</div>
<div id="async-post" class="section level3">
<h3>Async POST</h3>
<pre class="js"><code>async function getData(){
  try{
    const response = await fetch( &#39;http://api-to-call.com/endpoint&#39;,
                                  { method: &#39;POST&#39;, body: JSON.stringify({id:&#39;200&#39;}) });
    if( response.ok ){
      const jsonResponse = await response.json;
      // response
      // return jsonResponse;
    }
    throw new Error( &#39;Request failed!&#39; );
  } catch( error ){
    console.log( error );
    // or: redirection
  }
}</code></pre>
</div>
</div>

    </div>
  </article>
  
<section id="comments">
  <div id="disqus_thread"></div>
  <script>
  (function() { 
  var d = document, s = d.createElement('script');
  s.src = 'https://loikein-github.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</main>
      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>

          <li>Theme by loikein with love</li>
        </ul>
      </footer>
    </div>
    
    



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/languages/applescript.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/languages/python.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/languages/vim.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>


    
<script src="/js/math-code.js"></script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js?config=TeX-MML-AM_CHTML"></script>


    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-143089736-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

  </body>
</html>
